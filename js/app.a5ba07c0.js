(function(){"use strict";var t={84295:function(t,e,o){var a={};o.r(a);var s=o(49242),r=o(73396);const n={class:"max-w-screen-xl m-auto"};function i(t,e,o,a,s,i){const c=(0,r.up)("the-navbar"),l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(c),(0,r._)("main",n,[(0,r.Wm)(l)])],64)}o(57658);var c=o(87139),l=o.p+"img/logo.0cf54043.svg",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACw0lEQVRoge2YW4hNURjH/+SSSx4oM5EJGZfwxEjCg5S88EBS3tBkKCk8mChJPPGieJk3GrfxQFHGRB6ER7cSXoiQS3JXBt83679nnznHnr3P2d+a/bL+9e+c9jrn962191rf+tYGgoKCgoKC+qo5gycV1rsM+iP+m+LdhfUugzrF1xJ8H24AVwrrXU7NhRvAZ/GQgvtSkwaJ38INYkHBfalZ5+EGoNPpXAHemXcA25C+yH16a94BzCbop7gF2dJuXrcypmbIiXkHoOvgDYEL88IyahPj3bECniVwjxUwRZes47UQeNUK2I9Gib8z3kwr6CwCv4mHWUETtIaxnliDXxG8yBpcppOMc9gafIbgVmtwiYaKP8JTwthCcKc1uETLGUOz3mBr+AzE62C4NZw6xhgnPPF718FiD2zdb16Qv8IDv0ftDLDXA7uJ7E/wmOmaGaTLA/sg2e0e2L1qZBDdaKzXwUOy1xlzK/SSga7DrmS+gLhgHON7AKfgr3QekKPrZgZ7DPsyet5ADGAaB/BDPAU2a0F34AnikQasVM1BXC1G81bncGMNrDpxG9xLA2V1i2/AvUzwoqXir+jb+ei75u/5VbAaEG9c0RONvv8SbzDrNaWPN8pAl+Gmj2o6XEbS67pTZz12PuB/9LOJrPGIq1F9yqZvBNcT/AyV83404jKjGusTbChjaUnRxfZ9lgM4ROjRhPY2xHe0I8W3+dubCayo8u0w6nuPDhB6PKE92h92ZWCt4m/vJrTvYPvpKvvYr1YS+gEu5ZVK18MXZD+x1Yt/w2WdJWVtI+D2GGVtz9HfCuncjBbrI/Fq8VTxWrh1odcvVsE7wv+8E2+ES8PL4J6KXn8KD/vCZPFz/H9B6iG8vgqW3ulbCazX8PgudizcgtbqUc+v98T7UVsRpnW/zne96+/h7rqeysZZdDQoKCjIXv8A2FVBpAYw6IQAAAAASUVORK5CYII=";const u=t=>((0,r.dD)("data-v-14cac932"),t=t(),(0,r.Cn)(),t),p={class:"bg-[#ffd09a] h-20"},g={class:"text-lg flex items-center justify-between px-2 md:px-9 py-1 max-w-screen-2xl m-auto max-w"},m={class:"flex item-center"},h={class:"mr-6 pl-2"},f={class:"flex items-center"},w=u((()=>(0,r._)("a",{href:"#"},"Каталог",-1))),b=[w],x=u((()=>(0,r._)("a",{href:"#"},"Акции",-1))),y=[x],v={class:"hidden sm:block"},k={class:"flex items-center justify-end"},_={class:"flex items-center space-x-3"},C={key:0,class:"cursor-pointer select-none absolute px-[4px] py-[2px] top-0 -right-1 text-xs bg-[#ffd4a3] font-medium text-white rounded-full align-middle drop-shadow-2xl border-[1px] border-black border-opacity-10 leading-none"},S={class:"hidden md:flex items-center w-8 cursor-pointer"},A=u((()=>(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1))),P=[A],D=u((()=>(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},null,-1))),U=[D];function I(t,e,o,a,n,i){const u=(0,r.up)("the-location"),w=(0,r.up)("burger-menu"),x=(0,r.up)("list-basket"),A=(0,r.up)("registration-modal"),D=(0,r.Q2)("click-outside");return(0,r.wg)(),(0,r.iD)("header",p,[(0,r._)("div",g,[(0,r._)("div",m,[(0,r._)("div",h,[(0,r._)("img",{onClick:e[0]||(e[0]=e=>(t.$router.push(t.startingPath),t.setPathLink("/"),t.selectCategory({id:1}))),class:"w-16 cursor-pointer",src:l,alt:""})]),(0,r._)("ul",f,[(0,r._)("li",{class:"hidden md:list-item hover:text-white active:scale-x-95",onClick:e[1]||(e[1]=e=>(t.$router.push(t.startingPath?t.startingPath:"/"),t.setPathLink("/"),t.selectCategory({id:1})))},b),(0,r._)("li",{class:"hidden md:list-item mx-4 hover:text-white active:scale-x-95",onClick:e[2]||(e[2]=e=>(t.$router.push("/promotions"),t.setPathLink("/promotions")))},y),(0,r._)("li",v,[(0,r.Wm)(u)])])]),(0,r._)("div",k,[(0,r._)("div",_,[(0,r._)("div",{onClick:e[3]||(e[3]=e=>t.cartCount>0?t.switchBasket():""),onTouchstart:e[4]||(e[4]=(0,s.iM)((()=>{}),["stop"])),class:"w-9 relative"},[(0,r._)("img",{class:(0,c.C_)(t.cartCount>0?"cursor-pointer":"cursor-auto"),src:d,alt:"basket"},null,2),t.cartCount>0?((0,r.wg)(),(0,r.iD)("div",C,(0,c.zw)(t.cartCount),1)):(0,r.kq)("",!0)],32),(0,r._)("div",S,[((0,r.wg)(),(0,r.iD)("svg",{onClick:e[5]||(e[5]=(...e)=>t.switchBurger&&t.switchBurger(...e)),fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},P))]),(0,r._)("div",{onClick:e[7]||(e[7]=(0,s.iM)((()=>{}),["stop"])),class:"md:hidden select-none"},[((0,r.wg)(),(0,r.iD)("svg",{onTouchstart:e[6]||(e[6]=(...e)=>t.switchBurger&&t.switchBurger(...e)),class:(0,c.C_)(["w-12 text-white",t.burgerState?"rotate-90 duration-500":"duration-200"]),fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},U,34))]),(0,r.Wm)(s.uT,{name:"bur-men"},{default:(0,r.w5)((()=>[t.burgerState?(0,r.wy)(((0,r.wg)(),(0,r.j4)(w,{key:0},null,512)),[[D,t.switchBurger]]):(0,r.kq)("",!0)])),_:1})])])]),(0,r.Wm)(s.uT,{name:"modal"},{default:(0,r.w5)((()=>[t.basketState?(0,r.wy)(((0,r.wg)(),(0,r.j4)(x,{key:0},null,512)),[[D,t.switchBasket]]):(0,r.kq)("",!0)])),_:1}),(0,r.Wm)(s.uT,{name:"modal"},{default:(0,r.w5)((()=>[t.regModal?((0,r.wg)(),(0,r.j4)(A,{key:0})):(0,r.kq)("",!0)])),_:1})])}var T=o.p+"img/Plus.59fa4463.svg",L=o.p+"img/Minus.ac5a5acb.svg";const B=t=>((0,r.dD)("data-v-47d88ff2"),t=t(),(0,r.Cn)(),t),O={class:"bg-white fixed sm:absolute text-base sm:rounded-md whitespace-nowrap sm:shadow-xl sm:border sm:w-[400px] sm:max-h-[500px] inset-0 sm:inset-auto sm:right-20 sm:pt-3 sm:top-[68px]"},z={class:"bg-[#ffd09a] sm:hidden h-16 flex justify-between items-center"},j=B((()=>(0,r._)("h1",{class:"text-2xl font-semibold text-white pl-2"},"Корзина",-1))),F=B((()=>(0,r._)("img",{class:"w-10 rotate-45 active:scale-75 duration-500",src:T,alt:"close"},null,-1))),q=[F],M={key:0,class:"max-h-[480px] overflow-auto sm:max-h-96 pr-2 pl-3 m:pr-4 m:pl-5 mt-5 sm:mt-0 cursor-default space-y-1"},N=["amount"],R={class:"flex space-x-3"},E={class:"mb-2"},H=["src"],Y={class:"flex items-center justify-center mt-1"},K=["onClick"],G={class:"max-w-[190px] space-y-3 whitespace-normal"},Z={class:"font-bold mb-2"},W={key:0,class:"text-xs leading-4 mb-2"},J=B((()=>(0,r._)("h3",{class:"font-semibold"},"Добавки:",-1))),V={class:"flex items-center w-6"},Q=["onClick"],X={class:"mx-1 text-2xl"},$=["onClick"],tt={class:"flex items-end text-lg font-medium text-orange-900"},et={key:1,class:"text-center mb-2 pt-2"},ot={class:"text-base font-semibold ml-6"};function at(t,e,o,a,n,i){const l=(0,r.up)("checkout-modal");return(0,r.wg)(),(0,r.iD)("div",O,[(0,r._)("div",z,[j,(0,r._)("div",{onClick:e[0]||(e[0]=(...e)=>t.switchBasket&&t.switchBasket(...e))},q)]),t.cart.length>0?((0,r.wg)(),(0,r.iD)("section",M,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.cart,(t=>((0,r.wg)(),(0,r.iD)("div",{key:t.line_id,amount:t.amount,class:"flex justify-between border-b-2"},[(0,r._)("div",R,[(0,r._)("div",E,[(0,r._)("img",{class:"rounded-md h-[110px] w-[75px] mn:h-[110px] mn:w-[90px]",src:t.image,alt:""},null,8,H),(0,r._)("div",Y,[(0,r._)("span",{onClick:e=>i.removeCartItemBtn(t.line_id),class:"text-sm font-medium cursor-pointer"},"Удалить",8,K)])]),(0,r._)("div",G,[(0,r._)("h2",Z,(0,c.zw)(t.name),1),t.modifiers&&t.modifiers.length>0?((0,r.wg)(),(0,r.iD)("div",W,[J,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.modifiers,(t=>((0,r.wg)(),(0,r.iD)("div",{key:t.id,class:"flex flex-wrap whitespace-nowrap"},(0,c.zw)(t.name),1)))),128))])):(0,r.kq)("",!0),(0,r._)("div",V,[(0,r._)("img",{onClick:e=>i.changeAmountBut(t.line_id,"decrease"),onTouchstart:e[1]||(e[1]=(0,s.iM)((()=>{}),["stop"])),class:"cursor-pointer",src:L,alt:"Minus"},null,40,Q),(0,r._)("span",X,(0,c.zw)(t.amount),1),(0,r._)("img",{onClick:e=>i.changeAmountBut(t.line_id,"increase"),onTouchstart:e[2]||(e[2]=(0,s.iM)((()=>{}),["stop"])),class:"cursor-pointer",src:T,alt:"Plus"},null,40,$)])])]),(0,r._)("div",tt,(0,c.zw)(t.price*t.amount)+" ₽ ",1)],8,N)))),128))])):(0,r.kq)("",!0),t.cart.length>0?((0,r.wg)(),(0,r.iD)("div",et,[(0,r._)("button",{onClick:e[3]||(e[3]=(...t)=>i.order&&i.order(...t)),class:"text-center bg-[#FFD4A3] px-16 py-2 shadow-sm rounded-md mb-1 sm:mb-0 hover:bg-opacity-90 active:scale-90 duration-300"},[(0,r.Uk)(" Заказать "),(0,r._)("span",ot,(0,c.zw)(t.cartTotal)+" ₽",1)])])):(0,r.kq)("",!0),(0,r.Wm)(s.uT,{name:"check"},{default:(0,r.w5)((()=>[t.checkoutState?((0,r.wg)(),(0,r.j4)(l,{key:0})):(0,r.kq)("",!0)])),_:1})])}var st=o(20065);const rt=t=>((0,r.dD)("data-v-48a45503"),t=t(),(0,r.Cn)(),t),nt={class:"fixed inset-0 bg-black bg-opacity-50 z-200 flex items-center justify-center"},it={class:"relative bg-white w-[400px] h-[640px] rounded-xl whitespace-normal"},ct={class:"bg-[#ffd09a] h-16 flex items-center justify-between sm:rounded-t-xl"},lt=rt((()=>(0,r._)("h1",{class:"text-2xl font-semibold text-white px-4"},"Оформить заказ",-1))),dt={class:"pl-4"},ut={class:"space-y-6 px-2 mb-5"},pt={class:"group"},gt=rt((()=>(0,r._)("p",{class:"group-focus-within:text-[#ffd09a]"},"Имя*",-1))),mt={class:"group"},ht=rt((()=>(0,r._)("p",{class:"group-focus-within:text-[#ffd09a]"},"Телефон*",-1))),ft=["disabled"],wt={key:0},bt=rt((()=>(0,r._)("button",{disabled:"",class:"text-[#ffd09a]"},"Изменить номер",-1))),xt={key:1,class:"mt-4"},yt=rt((()=>(0,r._)("button",{color:"",class:"whitespace-nowrap px-1 py-2 shadow-[0_4px_4px_rgba(0,0,0,0.05)] bg-[#edc69a] text-white rounded-full cursor-pointer hover:bg-[#d5b28b]"}," Подтвердить номер ",-1))),vt=[yt],kt={class:"mb-2 px-2"},_t={class:"text-gray-400"},Ct=rt((()=>(0,r._)("p",{class:"text-xs"},"Выбранный адрес",-1))),St=["value"],At={class:"px-2 mb-2 hidden"},Pt={key:0},Dt={class:"ml-1"},Ut={key:1,class:"whitespace-normal"},It={key:2},Tt=rt((()=>(0,r._)("p",null,"Списать баллов",-1))),Lt={class:"px-2 mb-6"},Bt={class:"space-x-3"},Ot=rt((()=>(0,r._)("span",null,"Как можно скорее",-1))),zt={class:"space-x-3"},jt=rt((()=>(0,r._)("span",null,"К определенному времени",-1))),Ft={class:"px-2"},qt={key:0,class:"space-x-2"},Mt=rt((()=>(0,r._)("span",null,"Укажите время доставки",-1))),Nt={class:"mt-12"},Rt={class:"px-2 flex justify-end mr-2"},Et={key:0,class:"order-total-wrap"},Ht={class:"flex justify-center mb-8"},Yt=["disabled"],Kt={class:"flex justify-center"},Gt={key:0,class:"absolute inset-0 bg-black bg-opacity-50 z-20 flex top-[0px] justify-center"},Zt={class:"absolute bottom-[10%] whitespace-normal text-white"};function Wt(t,e,o,a,n,i){const l=(0,r.up)("number-confirmation"),d=(0,r.up)("info-reg"),u=(0,r.up)("pop-up"),p=(0,r.Q2)("maska"),g=(0,r.Q2)("click-outside");return(0,r.wg)(),(0,r.iD)("div",nt,[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",it,[t.numConState?((0,r.wg)(),(0,r.j4)(l,{key:0})):(0,r.kq)("",!0),(0,r._)("div",ct,[lt,(0,r._)("div",dt,[(0,r._)("img",{onClick:e[0]||(e[0]=(...e)=>t.changeCheckout&&t.changeCheckout(...e)),class:"w-10 rotate-45 active:scale-75 duration-500 cursor-pointer",src:T,alt:"close"})])]),(0,r._)("form",{class:"px-2 pt-2 overflow-auto h-[570px]",onSubmit:e[9]||(e[9]=(...t)=>i.submitOrder&&i.submitOrder(...t))},[(0,r._)("div",ut,[(0,r._)("div",null,[(0,r._)("label",pt,[gt,(0,r.wy)((0,r._)("input",{name:"name","onUpdate:modelValue":e[1]||(e[1]=e=>t.name=e),autocomplete:"off",required:"true",class:"outline-none bg-orange-50 p-2 rounded-lg w-[250px]"},null,512),[[s.nr,t.name]])])]),(0,r._)("div",null,[(0,r._)("label",mt,[ht,(0,r.wy)((0,r._)("input",{disabled:!(!t.isAuthorized||!t.user||0===Object.keys(t.user).length),name:"phone",autocomplete:"off",type:"tel",required:"","onUpdate:modelValue":e[2]||(e[2]=e=>t.phone=e),class:"outline-none bg-orange-50 p-2 rounded-lg w-[250px]","data-maska":"7##########",placeholder:"79998887766"},null,8,ft),[[s.nr,t.phone],[p]])]),(0,r._)("div",null,[t.isAuthorized?((0,r.wg)(),(0,r.iD)("div",wt,[bt,(0,r.kq)("",!0)])):(0,r.kq)("",!0),t.isAuthorized?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",xt,vt))])])]),(0,r._)("div",kt,[(0,r._)("label",_t,[Ct,(0,r._)("input",{disabled:"true",value:t.store,class:"text-lg font-medium"},null,8,St)])]),(0,r._)("div",At,[(0,r._)("label",null,[t.bonus&&""!==t.bonus&&!1!==t.bonus?((0,r.wg)(),(0,r.iD)("b",Pt,[(0,r.Uk)("Мои баллы: "),(0,r._)("span",Dt,(0,c.zw)(t.bonus),1)])):((0,r.wg)(),(0,r.iD)("b",Ut,"Мои баллы: Необходимо подтвердить номер")),t.bonus&&""!==t.bonus&&!1!==t.bonus?((0,r.wg)(),(0,r.iD)("div",It,[Tt,(0,r.wy)((0,r._)("input",{name:"bonus",type:"number","on:ionChange":e[3]||(e[3]=(...t)=>i.validateBonusField&&i.validateBonusField(...t)),"onUpdate:modelValue":e[4]||(e[4]=e=>t.bonusPoints=e),class:"outline-none bg-orange-50 p-2 rounded-lg"},null,544),[[s.nr,t.bonusPoints]])])):(0,r.kq)("",!0)])]),(0,r._)("div",Lt,[(0,r.Uk)(" Выберете время доставки "),(0,r._)("label",null,[(0,r._)("div",Bt,[(0,r.wy)((0,r._)("input",{type:"radio",name:"time",value:"fast","onUpdate:modelValue":e[5]||(e[5]=e=>t.checkedTime=e)},null,512),[[s.G2,t.checkedTime]]),Ot])]),(0,r._)("label",null,[(0,r._)("div",zt,[(0,r.wy)((0,r._)("input",{type:"radio",name:"time",value:"time","onUpdate:modelValue":e[6]||(e[6]=e=>t.checkedTime=e)},null,512),[[s.G2,t.checkedTime]]),jt])]),(0,r._)("div",Ft,["time"===t.checkedTime?((0,r.wg)(),(0,r.iD)("label",qt,[Mt,(0,r.wy)((0,r._)("input",{type:"time",name:"time-full","onUpdate:modelValue":e[7]||(e[7]=e=>t.dataTime=e),placeholder:"--:--",class:"focus:outline-[#ffd09a] w-20 text-center"},null,512),[[s.nr,t.dataTime]])])):(0,r.kq)("",!0)])]),(0,r._)("div",Nt,[(0,r._)("div",Rt,[(0,r._)("b",null,"Итого: "+(0,c.zw)(t.cartTotal?t.cartTotal+"  руб.":"0 руб."),1)]),t.bonusPoints>0?((0,r.wg)(),(0,r.iD)("div",Et,[(0,r._)("b",null,"К оплате: "+(0,c.zw)(t.cartTotal-t.bonusPoints)+" руб.",1)])):(0,r.kq)("",!0),(0,r._)("div",Ht,[(0,r._)("button",{class:(0,c.C_)(["whitespace-nowrap px-16 py-2 shadow-[0_4px_4px_rgba(0,0,0,0.05)] bg-[#edc69a] text-white rounded-full text-lg cursor-pointer",t.isAuthorized?"hover:bg-[#d5b28b]":"bg-[#d5b28b] opacity-80"]),type:"submit",disabled:!t.isAuthorized}," Оформить заказ ",10,Yt)])]),(0,r._)("div",Kt,[(0,r._)("a",{onClick:e[8]||(e[8]=t=>i.termsOfUse("policy")),class:"underline text-sm font-semibold"},"Условия использования и персональные данные")])],32),(0,r.Wm)(s.uT,{name:"info"},{default:(0,r.w5)((()=>[t.backArrow?((0,r.wg)(),(0,r.iD)("div",Gt,[(0,r.Wm)(d)])):(0,r.kq)("",!0)])),_:1}),(0,r._)("div",Zt,[(0,r.Wm)(s.uT,{name:"info"},{default:(0,r.w5)((()=>[t.popUpState?((0,r.wg)(),(0,r.j4)(u,{key:0},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)(t.textPopUp),1)])),_:1})):(0,r.kq)("",!0)])),_:1})])])),[[g,t.changeCheckout]])])}var Jt=o(29818),Vt={setStorage:(t,e)=>{localStorage.setItem(`${t}`,JSON.stringify(e))},getStorage:t=>JSON.parse(localStorage.getItem(`${t}`))},Qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAASCAYAAABvqT8MAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABoSURBVHgB5ZNBDYAwEARPQiUgqRJwgARwhIRKOAlIQMKyTXgAuR65X5NOsr+ZpGlaEQcAC3dyO5fkR17xpkTkikbkSo7Ic6/yHVhs4lxhMYKDm1pB4nSQyH18VqTi8YnaRzLCjMfnuQCCfrCqvCTkEAAAAABJRU5ErkJggg==";const Xt={class:"bg-white w-[320px] mn:w-[375px] h-[588px]"},$t={class:"w-full h-full overflow-auto max-h-[636px]"},te={class:"bg-[#ffd09a] h-16 flex items-center"},ee={class:"pl-4 mr-6"},oe={class:"text-2xl font-semibold text-white pl-2"},ae={class:"text-black mt-4"},se={class:"px-6"},re={class:"bg-white flex justify-center py-2"};function ne(t,e,o,a,s,n){const i=(0,r.Q2)("click-outside");return(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",Xt,[(0,r._)("div",$t,[(0,r._)("div",te,[(0,r._)("div",ee,[(0,r._)("img",{onClick:e[0]||(e[0]=(...e)=>t.setBackArrow&&t.setBackArrow(...e)),class:"cursor-pointer",src:Qt,alt:"back"})]),(0,r._)("h1",oe,(0,c.zw)(t.title?t.title:"undefined"),1)]),(0,r._)("section",ae,[(0,r._)("div",se,(0,c.zw)(t.content?t.content:"undefined"),1)])]),(0,r._)("div",re,[(0,r._)("button",{onClick:e[1]||(e[1]=(...e)=>t.setBackArrow&&t.setBackArrow(...e)),type:"submit",class:"px-28 py-1 font-medium shadow-xl bg-[#edc69a] text-black rounded-md text-lg cursor-pointer hover:bg-[#d5b28b]"}," Закрыть ")])])),[[i,t.setBackArrow]])}var ie={data:()=>({title:"",content:""}),methods:{...(0,st.OI)({setBackArrow:"tracking/setBackArrow"})},computed:{...(0,st.rn)({termsOfUseData:t=>t.tracking.termsOfUseData})},async mounted(){this.title=this.termsOfUseData.data.title,this.content=this.termsOfUseData.data.content}},ce=o(40089);const le=(0,ce.Z)(ie,[["render",ne],["__scopeId","data-v-a4118214"]]);var de=le;const ue={class:"z-20 flex items-center justify-center p-5 bg-black rounded-lg"};function pe(t,e,o,a,s,n){return(0,r.wg)(),(0,r.iD)("div",ue,[(0,r.WI)(t.$slots,"default")])}var ge={};const me=(0,ce.Z)(ge,[["render",pe]]);var he=me;const fe=t=>((0,r.dD)("data-v-5af2affa"),t=t(),(0,r.Cn)(),t),we={class:"relative flex flex-col justify-between h-[265px] w-[250px] bg-gray-50 p-6 rounded-lg"},be={class:""},xe={class:"mb-3"},ye=fe((()=>(0,r._)("h1",{class:"text-xl font-semibold"},"Подтверждение",-1))),ve=fe((()=>(0,r._)("p",{class:"text-gray-500 mb-6"},"Введите код из SMS",-1))),ke={class:"absolute bottom-[10%] top-[50%} left-[50%] text-white whitespace-nowrap",style:{transform:"translate(-50%, -50%)"}},_e={class:"text-end text-sm space-x-6 text-[#FFD4A3]"};function Ce(t,e,o,a,n,i){const l=(0,r.up)("pop-up"),d=(0,r.Q2)("maska");return(0,r.wg)(),(0,r.iD)("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-20 flex items-center justify-center",onClick:e[3]||(e[3]=(0,s.iM)((()=>{}),["stop"]))},[(0,r._)("div",we,[(0,r._)("section",be,[(0,r._)("div",xe,[ye,(0,r._)("p",null,(0,c.zw)(t.textErr),1)]),ve,(0,r.wy)((0,r._)("input",{class:"py-2 focus:outline-none focus:border-[#FFD4A3] border-b-2 border-gray-200",type:"code",placeholder:"1234","data-maska":"####","onUpdate:modelValue":e[0]||(e[0]=e=>t.code=e)},null,512),[[d],[s.nr,t.code]])]),(0,r._)("div",ke,[(0,r.Wm)(s.uT,{name:"popUp"},{default:(0,r.w5)((()=>[t.popUpStateLog?((0,r.wg)(),(0,r.j4)(l,{key:0},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)(t.textPopUp),1)])),_:1})):(0,r.kq)("",!0)])),_:1})]),(0,r._)("div",_e,[(0,r._)("button",{onClick:e[1]||(e[1]=(...e)=>t.changeNumConState&&t.changeNumConState(...e))},"ОТМЕНА"),(0,r._)("button",{onClick:e[2]||(e[2]=(...t)=>i.sendConfirmationCode&&i.sendConfirmationCode(...t))},"ОТПРАВИТЬ")])])])}var Se={data:()=>({code:"",textErr:"",textPopUp:""}),components:{PopUp:he},methods:{...(0,st.OI)({changeNumConState:"account/changeNumConState",changeAccountStatus:"account/changeAccountStatus",PopUp:"account/changePopUp"}),...(0,st.nv)({sendConfirmationCodeAc:"account/sendConfirmationCode",login:"account/login"}),changePopUp(t){console.log(t),this.PopUp("log"),this.textPopUp=t,setTimeout((()=>{this.PopUp("log"),this.textPopUp=""}),1500)},async authorize(t){console.log("третий",t);const e=await this.login({params:t});console.log(e),e?(this.changePopUp("Sign-up"===e.message?"Регистрация выполнена успешно":"С возвращением!"),setTimeout((()=>{this.regModal?this.changeAccountStatus():this.changeNumConState()}),1500)):this.changePopUp("Ошибка авторизации")},async sendConfirmationCode(){const t={name:this.paramsLog.name,phone:this.paramsLog.phone,code:this.code};console.log("второй",t);const e=await this.sendConfirmationCodeAc({params:{phone:this.paramsLog.phone,code:this.code}});e&&("OK"===e.status?this.authorize(t):this.textErr="Код неверен")}},computed:{...(0,st.rn)({paramsLog:t=>t.account.paramsLog,popUpStateLog:t=>t.account.popUpStateLog,regModal:t=>t.account.regModal})},directives:{maska:Jt.hr}};const Ae=(0,ce.Z)(Se,[["render",Ce],["__scopeId","data-v-5af2affa"]]);var Pe=Ae,De={data:()=>({user:{},checkedTime:"fast",dataTime:"--:--",cartTotal:"",cart:"",name:"",phone:Number,terminalGroupId:Number,textPopUp:""}),components:{InfoReg:de,PopUp:he,NumberConfirmation:Pe},methods:{...(0,st.OI)({changeCheckout:"checkout/changeCheckout",setBackArrow:"tracking/setBackArrow",PopUp:"account/changePopUp",changeNumConState:"account/changeNumConState",setParamsLog:"account/setParamsLog"}),...(0,st.nv)({getInfoPage:"tracking/getInfoPage",sendOrder:"checkout/sendOrder",requestConfirmationCodeAc:"account/requestConfirmationCode",getBonuses:"checkout/getBonuses"}),changePopUp(t){this.PopUp(),this.textPopUp=t,setTimeout((()=>{this.PopUp(),this.textPopUp=""}),1500)},termsOfUse(t){this.getInfoPage(t),setTimeout((()=>{this.setBackArrow()}),500)},async requestConfirmationCode(t){t.preventDefault();const e={name:this.name,phone:this.phone,terminalGroupId:this.terminalGroupId},o=await this.requestConfirmationCodeAc({params:{phone:e.phone}});o&&("OK"===o.status?(setTimeout((()=>{this.changeNumConState()}),300),this.setParamsLog(e)):this.changePopUp("Проверьте введённые данные"))},async submitOrder(t){t.preventDefault();let e=JSON.parse(JSON.stringify(this.cart));console.log("197",e);let o={},a={name:this.name,phone:this.phone,terminalGroupId:this.terminalGroupId,"time-full":this.dataTime};console.log("205",a);let s=["type","productId","amount","modifiers","name","price"],r=["productId","amount","productGroupId","name"];e.forEach((function(t,e){this[e]=Object.keys(t).filter((t=>s.includes(t))).reduce(((e,o)=>(e[o]=t[o],e)),{}),void 0!==t.modifiers&&t.modifiers.length>0&&t.modifiers.forEach((function(t,e){this[e]=Object.keys(t).filter((t=>r.includes(t))).reduce(((e,o)=>(e[o]=t[o],e)),{})}),t.modifiers)}),e);let n=null;this.dataTime&&(n=this.dataTime),o={terminalGroupId:a.terminalGroupId,phone:a.phone,items:e,customer:{name:a.name},time_delivery:n,cash:this.cartTotal-(parseFloat(a.bonus)||0),bonus:parseFloat(a.bonus)||0},console.log("251",o);let i=new Date,c=i.getHours();i.setHours(c+1);let l=i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),d=Vt.getStorage("shop").time_from,u=Vt.getStorage("shop").time_to;if("time"===this.checkedTime){if(this.dataTime+":00"<d)return void this.changePopUp("Время заказ из данной точки начинается с "+d);if(l>this.dataTime)return void this.changePopUp("Время заказ должно быть выбрано минимум за час с начала заказа.");if(this.dataTime+":00">u)return void this.changePopUp("Время заказ из данной точки доступно до "+u)}const p=await this.sendOrder({order:o});console.log(p.errorMessage),p?"Error"==p.status?this.changePopUp("Ошибка: "+p.message+p.errorMessage):"Доступ запрещён"==p.errorMessage&&this.changePopUp("Ошибка: "+p.errorMessage):this.changePopUp("Возникла непредвиденная ошибка")},getBonus(){let t=this.bonusState;return this.isAuthorized&&""!==t?t:!(!this.isAuthorized||""===!t)&&(this.getBonuses(this.phone),t)},validateBonusField(t){const e=parseInt(this.getBonus),o=this.cartTotal-1;(t.target.value>e||t.target.value>o)&&(t.target.value>o?t.target.value=o:t.target.value>e&&(t.target.value=e))}},computed:{...(0,st.rn)({isAuthorized:t=>t.account.isAuthorized,store:t=>t.stores.store,backArrow:t=>t.tracking.backArrow,popUpState:t=>t.account.popUpState,numConState:t=>t.account.numConState,bonusState:t=>t.checkout.bonus})},mounted(){this.user=Vt.getStorage("userData"),this.cartTotal=Vt.getStorage("cartTotal"),this.cart=Vt.getStorage("cartProduct"),this.name=this.user&&0!==Object.keys(this.user).length?this.user.name:"",this.phone=this.isAuthorized&&this.user&&0!==Object.keys(this.user).length?this.user.phone:"",this.terminalGroupId=Vt.getStorage("shop").guid},directives:{maska:Jt.hr}};const Ue=(0,ce.Z)(De,[["render",Wt],["__scopeId","data-v-48a45503"]]);var Ie=Ue,Te={components:{CheckoutModal:Ie},methods:{order(){this.changeCheckout()},changeAmountBut(t,e){this.changeAmount({line_id:t,action:e}),this.calculateCartTotal(),this.cartCount()},removeCartItemBtn(t){this.removeCartItem({line_id:t}),this.calculateCartTotal(),this.cartCount(),0===this.cart.length&&this.switchBasket()},...(0,st.OI)({switchBasket:"tracking/switchBasket",changeAmount:"product/changeAmount",calculateCartTotal:"product/calculateCartTotal",cartCount:"product/cartCount",removeCartItem:"product/removeCartItem",changeCheckout:"checkout/changeCheckout"})},computed:{...(0,st.rn)({cart:t=>t.product.cart,cartTotal:t=>t.product.cartTotal,checkoutState:t=>t.checkout.checkoutState})},created(){console.log(this.checkoutState)}};const Le=(0,ce.Z)(Te,[["render",at],["__scopeId","data-v-47d88ff2"]]);var Be=Le;const Oe=t=>((0,r.dD)("data-v-2ac9228a"),t=t(),(0,r.Cn)(),t),ze={class:"fixed inset-0 bg-black bg-opacity-50 z-20 flex items-center justify-center"},je={class:"relative w-[375px] h-[600px] flex item-center justify-center rounded-lg text-white"},Fe={key:0,class:"flex flex-col item-center justify-center px-5 bg-img rounded-lg"},qe=Oe((()=>(0,r._)("h1",{class:"text-4xl font-semibold"},"Привет! ✌",-1))),Me=Oe((()=>(0,r._)("p",{class:"leading-5 my-4"}," Войдите, чтобы заказывать кофе заранее и пользоваться нашими акциями! ",-1))),Ne={class:"flex flex-col space-y-1 mb-4"},Re=Oe((()=>(0,r._)("span",{class:"text-lg font-medium"},"Введите свой номер телефона",-1))),Ee=["value"],He={class:"flex flex-col space-y-1 mb-3"},Ye=Oe((()=>(0,r._)("span",{class:"text-lg font-medium"},"Как Вас зовут?",-1))),Ke=["value"],Ge=Oe((()=>(0,r._)("button",{type:"submit",class:"w-full py-2 shadow-[0_4px_4px_rgba(0,0,0,0.05)] bg-[#edc69a] text-black font-medium rounded-md text-lg cursor-pointer hover:bg-[#d5b28b]"}," Войдите по номеру телефона ",-1))),Ze={class:"flex flex-col text-center"},We={class:"absolute bottom-[10%] whitespace-nowrap"};function Je(t,e,o,a,n,i){const l=(0,r.up)("number-confirmation"),d=(0,r.up)("info-reg"),u=(0,r.up)("pop-up"),p=(0,r.Q2)("maska"),g=(0,r.Q2)("click-outside");return(0,r.wg)(),(0,r.iD)("div",ze,[t.numConState?((0,r.wg)(),(0,r.j4)(l,{key:0})):(0,r.kq)("",!0),(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",je,[t.backArrow?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Fe,[qe,Me,(0,r._)("form",{onSubmit:e[0]||(e[0]=(...t)=>i.requestConfirmationCode&&i.requestConfirmationCode(...t)),class:"mb-5"},[(0,r._)("section",null,[(0,r._)("label",Ne,[Re,(0,r.wy)((0,r._)("input",{type:"tel",value:t.userData.phone,"data-maska":"+7 (###) ###-##-##",placeholder:"+7 ( ___ ) ___-__-__",name:"phone",required:"true",class:"px-2 py-2 rounded-lg text-black",autocomplete:"tel"},null,8,Ee),[[p]])])]),(0,r._)("section",null,[(0,r._)("label",He,[Ye,(0,r._)("input",{type:"text",value:t.userData.name,name:"name",required:"true",class:"px-2 py-2 rounded-lg text-black"},null,8,Ke)])]),Ge],32),(0,r._)("div",Ze,[(0,r._)("a",{expand:"block",class:"underline font-medium mb-6 cursor-pointer",onClick:e[1]||(e[1]=(...e)=>t.changeAccountStatus&&t.changeAccountStatus(...e)),c:""},"Пропустить и указать позже"),(0,r._)("a",{onClick:e[2]||(e[2]=t=>i.termsOfUse("policy")),class:"text-xs underline font-bold cursor-pointer"},"Условия использования и персональные данные")])])),t.backArrow?((0,r.wg)(),(0,r.j4)(d,{key:1})):(0,r.kq)("",!0),(0,r._)("div",We,[(0,r.Wm)(s.uT,{name:"popUp"},{default:(0,r.w5)((()=>[t.popUpState?((0,r.wg)(),(0,r.j4)(u,{key:0},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)(t.textPopUp),1)])),_:1})):(0,r.kq)("",!0)])),_:1})])])),[[g,t.changeAccountStatus]])])}var Ve={data:()=>({confirmation:!1,message:"",params:{},textPopUp:""}),components:{InfoReg:de,NumberConfirmation:Pe,PopUp:he},methods:{...(0,st.OI)({changeAccountStatus:"account/changeAccountStatus",setBackArrow:"tracking/setBackArrow",changeNumConState:"account/changeNumConState",setParamsLog:"account/setParamsLog",PopUp:"account/changePopUp"}),...(0,st.nv)({getInfoPage:"tracking/getInfoPage",requestConfirmationCodeAc:"account/requestConfirmationCode"}),termsOfUse(t){this.getInfoPage(t),this.setBackArrow()},changePopUp(t){this.PopUp(),this.textPopUp=t,setTimeout((()=>{this.PopUp(),this.textPopUp=""}),1500)},async requestConfirmationCode(t){t.preventDefault();const e={},o=new FormData(t.target);for(let s of o.keys())e[s]=o.get(s);e.phone=e.phone.replace(/[\D]+/g,"");const a=await this.requestConfirmationCodeAc({params:{phone:e.phone}});a&&("OK"===a.status?(setTimeout((()=>{this.changeNumConState()}),300),this.setParamsLog(e)):this.changePopUp("Проверьте введённые данные"))}},computed:{...(0,st.rn)({backArrow:t=>t.tracking.backArrow,userData:t=>t.account.userData,numConState:t=>t.account.numConState,popUpState:t=>t.account.popUpState})},directives:{maska:Jt.hr}};const Qe=(0,ce.Z)(Ve,[["render",Je],["__scopeId","data-v-2ac9228a"]]);var Xe=Qe,$e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAXCAYAAAAC9s/ZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHMSURBVHgBlVRLTgJBEK3qCC6MCUfAE+hSjYl4AzcadsIJxK24GCKYsAJuADsDGrmBuBBZcgPnCJC4YT5ddg2i090DGd9i0tNT9d7rqupBMFAtnhRESFcSqYAAed4jwql6TjO+rDnDiRuPx9XCOS/k/G2vhQQl2Ayn3h/XNIIoOeO9IsIBpIAS6d4PxmVeC3742UU7bTKDEErVy6NKROYUD/OBFJ9aAIALUpYbT5MRv99eHJcEQkstc7Gw2ZeX3RO+RMdUCDx5tkpmPAzGXQipbITldrILRUy4r/ujUdOoNKP+/DFk1fieILEvwDg7Ac5hDQhII1CtPhBmkCrmaUV1xdznWiFgXoslmgnF6hqxud2M19KSuc2heAHLEc7x7uK4rY5xbX8EVw3JVNVoRkjnoHdgRVDaIpJDRGER/IxxXiVDElgg8MI3we1Sx+jB/9HjbkVFDAQ5YLRoE1i90R9zznKUm48TV212IDX+hu+3jRkv207jYqn+3rMInOFols6FPvraILGLhLmIydMorm4RRC4Ia+vyfd+6UGCNcnTzlJIljtBNumQWwdIpWS6ChUx0lkgQ/QtiLiRBJ0l9LUGUBMENF5TbFvqyvS7uGwNm1/jyr7bYAAAAAElFTkSuQmCC";const to=t=>((0,r.dD)("data-v-bd9c21d4"),t=t(),(0,r.Cn)(),t),eo={class:"flex items-center space-x-1"},oo=to((()=>(0,r._)("img",{src:$e,alt:"location",class:"h-6"},null,-1))),ao={class:"cursor-pointer whitespace-nowrap"};function so(t,e,o,a,n,i){const l=(0,r.up)("store-list-modal");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",{class:"flex justify-between",onClick:e[0]||(e[0]=e=>t.storeListStateChange()),onTouchstart:e[1]||(e[1]=(0,s.iM)((()=>{}),["stop"]))},[(0,r._)("div",eo,[oo,(0,r._)("span",ao," Меню "+(0,c.zw)(t.store),1)])],32),(0,r.Wm)(s.uT,{name:"store"},{default:(0,r.w5)((()=>[t.storesState?((0,r.wg)(),(0,r.j4)(l,{key:0,class:"z-50"})):(0,r.kq)("",!0)])),_:1})],64)}const ro={class:"fixed inset-0 select-none bg-black bg-opacity-50 z-[1000] flex items-center justify-center"},no=(0,r._)("h2",{class:"text-lg font-bold leading-none px-10 mb-5 text-center"}," Выберите место, где вы хотите забрать заказ ",-1),io=["onClick"],co={class:"flex items-center space-x-2"},lo={class:"pl-3"},uo={key:0},po=(0,r._)("svg",{class:"w-6 h-6 text-[#ffd4a3] text-2xl",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),go=[po],mo={class:"pr-2 text-[#e0ac08]"},ho={class:"text-center mt-6"};function fo(t,e,o,a,n,i){const l=(0,r.Q2)("click-outside");return(0,r.wg)(),(0,r.iD)("div",ro,[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{class:"min-h-screen w-96 sm:min-h-fit bg-white px-2 py-16 rounded-md",onTouchstart:e[1]||(e[1]=(0,s.iM)((()=>{}),["stop"])),onClick:e[2]||(e[2]=(0,s.iM)((()=>{}),["stop"]))},[no,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.stores,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"mb-2",key:t.id},[(0,r._)("div",{onClick:e=>i.selectStore(t),class:(0,c.C_)(["flex items-center justify-between py-5 border-solid w-full rounded-lg",t.id===n.selectedStore?"border-2 border-[#ffd4a3] duration-0":"border-b-[1px] border-black border-opacity-20  duration-75 last:border-none"])},[(0,r._)("div",co,[(0,r._)("span",lo,(0,c.zw)(t.store_name),1),t.id===n.selectedStore?((0,r.wg)(),(0,r.iD)("span",uo,go)):(0,r.kq)("",!0)]),(0,r._)("span",mo,(0,c.zw)(t.time_from)+" - "+(0,c.zw)(t.time_to),1)],10,io)])))),128)),(0,r._)("div",ho,[(0,r._)("button",{onClick:e[0]||(e[0]=t=>i.getProductsList()),class:"bg-[#FFD4A3] py-3 px-24 rounded-lg hover:bg-[#f0b878] active:scale-95"}," Выбрать ")])],32)),[[l,i.closeModal]])])}var wo={data(){return{selectedStore:Number,fullStore:null}},created(){this.getReactData()},methods:{getReactData(){if(this.getStorage()){let t=this.getStorage();this.setId(t.id),this.selectedStore=t.id,this.fullStore=t}},getProductsList(){this.setStore(this.fullStore.store_name),this.storeListStateChange(),this.setId(this.fullStore.id),this.setStorage(this.fullStore)},getStorage(){return JSON.parse(localStorage.getItem("shop"))},setStorage(t){localStorage.setItem("shop",JSON.stringify(t))},selectStore(t){this.selectedStore=t.id,this.fullStore=t},...(0,st.nv)({fetchStores:"stores/fetchStores"}),...(0,st.OI)({storeListStateChange:"stores/storeListStateChange",setStore:"stores/setStore",setId:"stores/setId"}),closeModal(){this.storeListStateChange()}},computed:{...(0,st.rn)({store:t=>t.stores.store,stores:t=>t.stores.stores,storesLoading:t=>t.stores.storesLoading,storeId:t=>t.stores.id})},mounted(){}};const bo=(0,ce.Z)(wo,[["render",fo]]);var xo=bo,yo={components:{StoreListModal:xo},methods:{...(0,st.nv)({fetchStores:"stores/fetchStores"}),...(0,st.OI)({storeListStateChange:"stores/storeListStateChange"})},computed:{...(0,st.rn)({store:t=>t.stores.store,storesState:t=>t.stores.storesState})},beforeMount(){this.fetchStores()}};const vo=(0,ce.Z)(yo,[["render",so],["__scopeId","data-v-bd9c21d4"]]);var ko=vo;const _o={class:"bg-[#ffd4a3] absolute top-[68px] right-3 text-base px-4 rounded-md whitespace-nowrap"},Co={class:"text-center py-1"},So={key:1,class:"text-center cursor-default"},Ao=["onClick"];function Po(t,e,o,a,n,i){const l=(0,r.up)("delete-modal");return(0,r.wg)(),(0,r.iD)("div",_o,[(0,r._)("ul",Co,[(0,r._)("li",{class:(0,c.C_)(["align-middle py-2 border-b-[1px] border-black border-opacity-10 rounded-lg",t.isAuthorized?"":"hover:text-white hover:bg-black hover:bg-opacity-10 cursor-pointer"])},[t.isAuthorized?((0,r.wg)(),(0,r.iD)("div",So,(0,c.zw)(t.nameAc),1)):((0,r.wg)(),(0,r.iD)("div",{key:0,onClick:e[0]||(e[0]=e=>(t.changeAccountStatus(),t.switchBurger()))},"Аккаунт"))],2),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.menu,(e=>((0,r.wg)(),(0,r.iD)("li",{onClick:t=>i.activeLink(e),key:e.id,class:(0,c.C_)(["cursor-pointer align-center py-2 border-b-[1px] border-black border-opacity-10 rounded-lg hover:bg-black hover:bg-opacity-10 hover:text-white",t.pathLink===e.path?"text-white":""])},(0,c.zw)(e.name),11,Ao)))),128)),t.isAuthorized?((0,r.wg)(),(0,r.iD)("li",{key:0,onClick:e[1]||(e[1]=e=>t.changeDeleteState()),class:"cursor-pointer align-center py-2 border-b-[1px] border-black border-opacity-10 rounded-lg hover:bg-black hover:bg-opacity-10 hover:text-white"}," Удалить аккаунт ")):(0,r.kq)("",!0),t.isAuthorized?((0,r.wg)(),(0,r.iD)("li",{key:1,onClick:e[2]||(e[2]=(...t)=>i.logout&&i.logout(...t)),class:"cursor-pointer align-center py-2 rounded-lg hover:bg-black hover:bg-opacity-10 hover:text-white"}," Выход ")):(0,r.kq)("",!0)]),(0,r.Wm)(s.uT,{name:"delete"},{default:(0,r.w5)((()=>[t.deleteState?((0,r.wg)(),(0,r.j4)(l,{key:0})):(0,r.kq)("",!0)])),_:1})])}var Do=o(90466);const Uo=t=>((0,r.dD)("data-v-a318af02"),t=t(),(0,r.Cn)(),t),Io={class:"fixed inset-0 bg-black bg-opacity-50 z-20 flex items-center justify-center"},To={class:"relative w-[280px] h-[240px] bg-white rounded-xl whitespace-normal flex justify-center py-6"},Lo=Uo((()=>(0,r._)("p",{class:"text-center font-semibold mb-6"},"Подтвердите удаление аккаунта",-1))),Bo={class:"flex flex-col justify-center"},Oo=Uo((()=>(0,r._)("p",null,"Телефон*",-1))),zo=["value"],jo=Uo((()=>(0,r._)("div",{class:"flex justify-center mt-10"},[(0,r._)("button",{type:"submit",expand:"block",class:"py-2 px-12 shadow-[0_4px_4px_rgba(0,0,0,0.05)] bg-[#edc69a] text-black font-medium rounded-md text-lg cursor-pointer hover:bg-[#d5b28b]"}," Подтверждаю ")],-1))),Fo={class:"absolute bottom-[10%] whitespace-nowrap text-white"};function qo(t,e,o,a,n,i){const l=(0,r.up)("pop-up"),d=(0,r.Q2)("click-outside");return(0,r.wg)(),(0,r.iD)("div",Io,[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",To,[(0,r._)("form",{onSubmit:e[0]||(e[0]=(...t)=>i.submitForm&&i.submitForm(...t))},[Lo,(0,r._)("label",null,[(0,r._)("div",Bo,[Oo,(0,r._)("input",{name:"phone",placeholder:"79998887766",autocomplete:"tel",type:"tel",required:"true",class:"px-2 py-2 rounded-lg outline outline-1 outline-slate-400 text-gray-500",value:"+"+t.phone,disabled:""},null,8,zo)])]),jo],32),(0,r._)("div",Fo,[(0,r.Wm)(s.uT,{name:"popUp"},{default:(0,r.w5)((()=>[t.popUpState?((0,r.wg)(),(0,r.j4)(l,{key:0},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)(t.textPopUp),1)])),_:1})):(0,r.kq)("",!0)])),_:1})])])),[[d,t.changeDeleteState]])])}var Mo={data:()=>({phone:"",textPopUp:""}),components:{PopUp:he},methods:{...(0,st.nv)({sendReview:"account/sendReview"}),...(0,st.OI)({PopUp:"account/changePopUp",changeDeleteState:"account/changeDeleteState",switchBurger:"tracking/switchBurger"}),changePopUp(t){this.PopUp(),this.textPopUp=t,setTimeout((()=>{this.PopUp(),this.textPopUp="",this.changeDeleteState()}),1500),setTimeout((()=>{this.switchBurger()}),2e3)},async submitForm(t){t.preventDefault();const e=await this.sendReview({message:"Прошу удалить аккаунт под номером "});e?this.changePopUp("Ваш запрос на удаление отправлен. Спасибо!"):this.changePopUp("Непредвиденная ошибка, повторите попытку позже")},locPhone(){const t=Vt.getStorage("userData");this.phone=t.phone}},computed:{...(0,st.rn)({popUpState:t=>t.account.popUpState})},created(){this.locPhone()}};const No=(0,ce.Z)(Mo,[["render",qo],["__scopeId","data-v-a318af02"]]);var Ro=No,Eo={components:{DeleteModal:Ro},data(){return{menu:[{name:"Каталог",id:2,path:"/"},{name:"Акции",id:3,path:"/promotions"},{name:"Истории заказов",id:4,path:"/stories",reg:"reg"},{name:"Оставить отзыв",id:5,path:"/review"},{name:"Сообщить о технической проблеме",id:6,path:"/support"}],locURL:""}},methods:{...(0,st.OI)({switchBurger:"tracking/switchBurger",setPathLink:"tracking/setPathLink",changeAccountStatus:"account/changeAccountStatus",exitAccount:"account/exitAccount",storageAccount:"account/storageAccount",changeDeleteState:"account/changeDeleteState"}),activeLink(t){this.$router.push(t.path),this.setPathLink(t.path),Vt.setStorage("activeLink",t.path),this.switchBurger()},widthFuse(){const{width:t}=(0,Do.iPe)();this.isAuthorized||(this.menu=this.menu.filter((t=>"reg"!==t.reg))),t.value>767&&(this.menu=this.menu.filter((t=>t.id>3)))},logout(){this.switchBurger(),this.exitAccount()}},computed:{...(0,st.rn)({burgerState:t=>t.tracking.burgerState,pathLink:t=>t.tracking.pathLink,nameAc:t=>t.account.name,isAuthorized:t=>t.account.isAuthorized,deleteState:t=>t.account.deleteState})},created(){this.widthFuse(),this.setPathLink(location.pathname),console.log(this.menu)}};const Ho=(0,ce.Z)(Eo,[["render",Po],["__scopeId","data-v-9a86a290"]]);var Yo=Ho,Ko={components:{ListBasket:Be,RegistrationModal:Xe,TheLocation:ko,BurgerMenu:Yo},methods:{...(0,st.OI)({switchBurger:"tracking/switchBurger",switchForReg:"tracking/switchForReg",switchBasket:"tracking/switchBasket",setPathLink:"tracking/setPathLink",selectCategory:"category/selectCategory",changeAccountStatus:"account/changeAccountStatus"}),getPathUrl(){Vt.setStorage("activeLink",location.pathname)}},computed:{...(0,st.rn)({regModal:t=>t.account.regModal,basketState:t=>t.tracking.basketState,burgerState:t=>t.tracking.burgerState,pathLink:t=>t.tracking.pathLink,IdFood:t=>t.category.id,startingPath:t=>t.category.startingPath,cartCount:t=>t.product.cartCount})},watch:{pathLink(){setTimeout(this.getPathUrl,500)}},mounted(){}};const Go=(0,ce.Z)(Ko,[["render",I],["__scopeId","data-v-14cac932"]]);var Zo=Go,Wo={name:"App",data(){return{locPath:location.pathname}},components:{TheNavbar:Zo},methods:{loadCart(){Vt.getStorage("cartProduct")&&Vt.getStorage("lineIdCount")&&Vt.getStorage("cartTotal")&&(this.setCart(Vt.getStorage("cartProduct")),this.setLineIdCount(Vt.getStorage("lineIdCount")),this.setCartTotal(Vt.getStorage("cartTotal")),this.cartCount())},loadAccount(){console.log(Vt.getStorage("userData")),Vt.getStorage("userData")&&Vt.getStorage("isAuthorized")&&this.storageAccount(Vt.getStorage("userData"))},...(0,st.OI)({setCart:"product/setCart",setLineIdCount:"product/setLineIdCount",setCartTotal:"product/setCartTotal",cartCount:"product/cartCount",storageAccount:"account/storageAccount"}),...(0,st.nv)({fetchCategoryFood:"category/fetchCategoryFood"})},computed:{...(0,st.rn)({idFood:t=>t.category.id,startingPath:t=>t.category.startingPath})},created(){this.loadCart(),this.loadAccount()}};const Jo=(0,ce.Z)(Wo,[["render",i]]);var Vo=Jo,Qo=o(22483);const Xo={class:"sm:hidden mx-2 mt-2 p-4 rounded-2xl border flex justify-between"};function $o(t,e,o,a,s,n){const i=(0,r.up)("the-location"),c=(0,r.up)("food-categories"),l=(0,r.up)("card-product"),d=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",Xo,[(0,r.Wm)(i),(0,r._)("span",{onClick:e[0]||(e[0]=(...e)=>t.storeListStateChange&&t.storeListStateChange(...e)),class:""},"Изменить")]),(0,r.Wm)(c),(0,r.Wm)(l),t.prodModal?((0,r.wg)(),(0,r.j4)(d,{key:0})):(0,r.kq)("",!0)],64)}const ta={class:"pt-5 pb-2 px-2 mb-4 space-x-2 flex overflow-x-auto hovScroll select-none"},ea=["onClick"],oa={class:""};function aa(t,e,o,a,s,n){return(0,r.wg)(),(0,r.iD)("ul",ta,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.categoryFood,(e=>((0,r.wg)(),(0,r.iD)("li",{class:(0,c.C_)(["whitespace-nowrap px-3 py-1 shadow-[0_4px_4px_rgba(0,0,0,0.05)] sm:hover:bg-[#ffd4a3] sm:hover:text-white rounded-full text-lg cursor-pointer",t.idFood===e.id?"bg-[#ffd4a3] text-white":""]),onClick:t=>n.changeCategoryFood(e.id,e.name),key:e.id},[(0,r._)("span",oa,(0,c.zw)(e.name),1)],10,ea)))),128))])}var sa=o(74193),ra=o.n(sa);const na=new(ra());var ia={data(){return{}},methods:{...(0,st.nv)({getProducts:"products/getProducts"}),...(0,st.OI)({setCategoryFood:"category/setCategoryFood",selectCategory:"category/selectCategory",setStartingPath:"category/setStartingPath"}),changeCategoryFood(t,e){this.selectCategory({id:t}),localStorage.setItem("selectedCategory",JSON.stringify({id:t,name:e})),this.$router.push(na.transform(e,"-").toLowerCase())},startPath(){"/"===window.location.pathname&&(this.$router.push(this.startingPath),this.selectCategory({id:1}))},paramsForProducts(){return{params:{id:this.idFood,shop_id:this.idStore}}}},computed:{...(0,st.rn)({categoryFood:t=>t.category.categoryFood,idFood:t=>t.category.id,idStore:t=>t.stores.id,startingPath:t=>t.category.startingPath,translitList:t=>t.category.translitList})},created(){setTimeout((()=>{this.getProducts(this.paramsForProducts())}),2e3)},watch:{idFood(){this.startPath()}}};const ca=(0,ce.Z)(ia,[["render",aa],["__scopeId","data-v-414453a4"]]);var la=ca;const da=t=>((0,r.dD)("data-v-3c244b3a"),t=t(),(0,r.Cn)(),t),ua={key:1},pa={key:0,class:"grid grid-cols-2 gap-4 px-2 m:grid-cols-3 sm:grid-cols-4 lg:grid-cols-5"},ga=["onClick"],ma=["src"],ha={class:"text-[#2d2d2d] font-medium"},fa={class:"text-[#7A7A7A] text-base"},wa={key:1,class:"text-center text-2xl"},ba=da((()=>(0,r._)("p",null,"Раздел пуст",-1))),xa=[ba];function ya(t,e,o,a,n,i){const l=(0,r.up)("the-loader"),d=(0,r.up)("product-modal");return(0,r.wg)(),(0,r.iD)(r.HY,null,[t.loader?((0,r.wg)(),(0,r.j4)(l,{key:0})):(0,r.kq)("",!0),t.loader?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("section",ua,[n.stateContent?((0,r.wg)(),(0,r.iD)("div",pa,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.products,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"text-lg text-center leading-6 cursor-pointer",onClick:o=>(i.getProd(e.id),t.switchProdModal()),key:e.id},[(0,r._)("img",{class:"rounded-xl w-full",src:e.image,alt:"Product"},null,8,ma),(0,r._)("h3",ha,(0,c.zw)(e.product_name),1),(0,r._)("span",fa,"от "+(0,c.zw)(e.price)+"₽",1)],8,ga)))),128))])):(0,r.kq)("",!0),n.stateContent?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",wa,xa))])),(0,r.Wm)(s.uT,{name:"product",class:"duration-75"},{default:(0,r.w5)((()=>[t.prodModal?((0,r.wg)(),(0,r.j4)(d,{key:0})):(0,r.kq)("",!0)])),_:1})],64)}const va=t=>((0,r.dD)("data-v-2922764c"),t=t(),(0,r.Cn)(),t),ka={class:"fixed inset-0 bg-black bg-opacity-50 z-20 flex items-center justify-center"},_a={class:"hidden md:block"},Ca={key:0,class:"bg-[#ffd09a] md:hidden h-16 flex justify-between items-center"},Sa={class:"text-2xl font-semibold text-white pl-2"},Aa=va((()=>(0,r._)("img",{class:"w-10 rotate-45 active:scale-75 duration-500",src:T,alt:"close"},null,-1))),Pa=[Aa],Da={key:1,class:"flex flex-col md:items-center md:justify-between max-h-[500px] md:max-h-full overflow-auto md:overflow-hidden"},Ua={class:"md:flex md:pt-6 md:px-2 md:mb-4 leading-6"},Ia={class:"flex flex-col md:pl-7 md:mr-8"},Ta={class:"mx-auto mt-2 md:m-0"},La=["src"],Ba={class:"hidden md:block"},Oa={class:"px-4 md:px-0 md:pr-4"},za={class:"md:h-[495px] md:w-[329px] md:overflow-auto py-1"},ja={class:"hidden md:block text-2xl font-semibold"},Fa={key:0,class:""},qa={key:1,class:""},Ma=va((()=>(0,r._)("i",null,"Описание отсутствует",-1))),Na=[Ma],Ra=["value"],Ea={class:"text-lg font-semibold"},Ha=["id","onClick"],Ya=["allow-empty-selection","value"],Ka=["id","value"],Ga={class:"ml-2 text-base font-normal md:font-medium"},Za={class:"mr-0"},Wa={key:0},Ja={key:1},Va={key:1,class:"space-y-2"},Qa={class:"text-lg font-semibold"},Xa=["value","onChange","checked"],$a={class:"flex"},ts=va((()=>(0,r._)("input",{type:"checkbox",class:"w-4 cursor-pointer"},null,-1))),es={class:"ml-2 text-base font-normal md:font-medium"},os={class:"mr-0"},as={key:0},ss={key:1},rs={class:"md:hidden"},ns={class:"hidden md:block self-end whitespace-nowrap"},is={class:"flex justify-end font-semibold text-lg"},cs={class:"flex justify-end"},ls={key:2,class:"md:hidden self-end whitespace-nowrap"},ds={class:"flex justify-center"},us=va((()=>(0,r._)("span",null,"ДОБАВИТЬ",-1)));function ps(t,e,o,a,s,n){const i=(0,r.up)("the-loader"),l=(0,r.up)("TheСalorieCounter"),d=(0,r.Q2)("click-outside");return(0,r.wg)(),(0,r.iD)("div",ka,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.selectedProduct,(o=>(0,r.wy)(((0,r.wg)(),(0,r.iD)("section",{key:o.id,class:"fixed md:w-[710px] md:h-[600px] bg-white md:rounded-xl"},[(0,r._)("span",_a,[t.loader?((0,r.wg)(),(0,r.j4)(i,{key:0,class:"absolute top-[50%] translate-y-[-50%] left-[50%] translate-x-[-50%]"})):(0,r.kq)("",!0)]),t.content?((0,r.wg)(),(0,r.iD)("div",Ca,[(0,r._)("h1",Sa,(0,c.zw)(t.content?o.product_name:""),1),(0,r._)("div",{onClick:e[0]||(e[0]=(...t)=>n.outsideExit&&n.outsideExit(...t))},Pa)])):(0,r.kq)("",!0),t.content?((0,r.wg)(),(0,r.iD)("div",Da,[(0,r._)("div",Ua,[(0,r._)("div",Ia,[(0,r._)("div",Ta,[(0,r._)("img",{class:"rounded-lg md:w-full h-[400px]",src:o.image,alt:"Image"},null,8,La)]),(0,r._)("span",Ba,[(0,r.Wm)(l)])]),(0,r._)("div",Oa,[(0,r._)("div",za,[(0,r._)("h1",ja,(0,c.zw)(o.product_name),1),(0,r._)("div",null,[o.product_description?((0,r.wg)(),(0,r.iD)("p",Fa,(0,c.zw)(o.product_description),1)):((0,r.wg)(),(0,r.iD)("p",qa,Na))]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.options,(t=>((0,r.wg)(),(0,r.iD)("form",{id:"coffee-detail",key:t.id,class:"mt-4 pr-1"},[1===t.max_amount?((0,r.wg)(),(0,r.iD)("section",{key:0,onChange:e[1]||(e[1]=(...t)=>n.setRadioOption&&n.setRadioOption(...t)),value:1===t.min_amount||t.required?t.values[0].id:"",class:"space-y-2"},[(0,r._)("h3",Ea,(0,c.zw)(t.name),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.values,(e=>((0,r.wg)(),(0,r.iD)("label",{id:e.id,key:e.id,onClick:t=>n.calcRadioPrice(e),class:"flex items-center justify-between whitespace-nowrap cursor-pointer"},[(0,r._)("section",{class:"flex","allow-empty-selection":1===t.min_amount||t.required?"false":"true",value:1===t.min_amount||t.required?t.values[0].id:""},[(0,r._)("input",{type:"radio",name:"option",id:"input"+e.id,class:"w-4 cursor-pointer",value:1===t.min_amount||t.required?t.values[0].id:""},null,8,Ka),(0,r._)("p",Ga,(0,c.zw)(e.name),1)],8,Ya),(0,r._)("section",Za,[e.price>0?((0,r.wg)(),(0,r.iD)("p",Wa,(0,c.zw)(e.price)+" руб.",1)):((0,r.wg)(),(0,r.iD)("p",Ja," "))])],8,Ha)))),128))],40,Ra)):t.max_amount>1?((0,r.wg)(),(0,r.iD)("section",Va,[(0,r._)("h3",Qa,(0,c.zw)(t.name),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.values,(e=>((0,r.wg)(),(0,r.iD)("label",{key:e.id,value:e.id,class:"flex items-center justify-between whitespace-nowrap cursor-pointer",onChange:t=>n.calculatePrice(e),checked:1!==t.min_amount&&!t.required||t.values[0]!==e?"false":"true"},[(0,r._)("section",$a,[ts,(0,r._)("p",es,(0,c.zw)(e.name),1)]),(0,r._)("section",os,[e.price>0?((0,r.wg)(),(0,r.iD)("p",as,(0,c.zw)(e.price)+" руб.",1)):((0,r.wg)(),(0,r.iD)("p",ss," "))])],40,Xa)))),128))])):(0,r.kq)("",!0)])))),128))]),(0,r._)("span",rs,[(0,r.Wm)(l)]),(0,r._)("div",ns,[(0,r._)("p",is,(0,c.zw)(t.calcPrice)+" ₽",1),(0,r._)("div",cs,[(0,r._)("button",{onClickOnce:e[2]||(e[2]=(...t)=>n.sendForProcessing&&n.sendForProcessing(...t)),class:"whitespace-nowrap px-16 py-2 shadow-[0_4px_4px_rgba(0,0,0,0.05)] bg-[#edc69a] text-white rounded-full text-lg cursor-pointer hover:bg-[#d5b28b]"}," ДОБАВИТЬ ",32)])])])])])):(0,r.kq)("",!0),t.content?((0,r.wg)(),(0,r.iD)("div",ls,[(0,r._)("div",ds,[(0,r._)("button",{onClick:e[3]||(e[3]=(...t)=>n.sendForProcessing&&n.sendForProcessing(...t)),class:"my-1 space-x-10 whitespace-nowrap px-16 py-2 shadow-[0_4px_4px_rgba(0,0,0,0.05)] bg-[#edc69a] text-white rounded-full text-lg cursor-pointer hover:bg-[#d5b28b]"},[us,(0,r.Uk)(),(0,r._)("span",null,(0,c.zw)(t.calcPrice+" ₽"),1)])])])):(0,r.kq)("",!0)])),[[d,n.outsideExit]]))),128))])}const gs={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"#fff",display:"block"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},ms=(0,r.uE)('<g transform="rotate(0 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(30 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(60 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(90 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(120 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(150 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(180 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(210 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(240 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(270 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(300 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(330 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#ffd09a"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate></rect></g>',12),hs=[ms];function fs(t,e,o,a,s,n){return(0,r.wg)(),(0,r.iD)("div",null,[((0,r.wg)(),(0,r.iD)("svg",gs,hs))])}var ws={};const bs=(0,ce.Z)(ws,[["render",fs]]);var xs=bs;const ys={key:0,class:"mt-3 leading-4 whitespace-nowrap"},vs={class:"font-medium text-lg whitespace-normal"},ks={class:"flex space-x-5"},_s={class:"text-lg font-semibold"},Cs=(0,r._)("div",{class:"text-gray-800"},"Ккал",-1),Ss={class:"text-lg font-semibold"},As=(0,r._)("div",{class:"text-gray-800"},"Белки, г",-1),Ps={class:"text-lg font-semibold"},Ds=(0,r._)("div",{class:"text-gray-800"},"Жиры, г",-1),Us={class:"text-lg font-semibold"},Is=(0,r._)("div",{class:"text-gray-800"},"Углеводы, г",-1);function Ts(t,e,o,a,s,n){return(0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.selectedProduct,(t=>((0,r.wg)(),(0,r.iD)("section",{key:t.id},["NaN"!==t.energyAmount&&"NaN"!==t.proteinsAmount&&"NaN"!==t.fatAmount&&"NaN"!==t.carbohydratesAmount?((0,r.wg)(),(0,r.iD)("div",ys,[(0,r._)("span",vs,'Калорийность "'+(0,c.zw)(t.product_name)+'"',1),(0,r._)("div",ks,[(0,r._)("div",null,[(0,r._)("div",_s,(0,c.zw)(t.energyAmount&&"NaN"!==t.energyAmount?t.energyAmount:0),1),Cs]),(0,r._)("div",null,[(0,r._)("div",Ss,(0,c.zw)(t.proteinsAmount&&"NaN"!==t.proteinsAmount?t.proteinsAmount:0),1),As]),(0,r._)("div",null,[(0,r._)("div",Ps,(0,c.zw)(t.fatAmount&&"NaN"!==t.fatAmount?t.fatAmount:0),1),Ds]),(0,r._)("div",null,[(0,r._)("div",Us,(0,c.zw)(t.carbohydratesAmount&&"NaN"!==t.carbohydratesAmount?t.carbohydratesAmount:0),1),Is])])])):(0,r.kq)("",!0)])))),128)}var Ls={data:()=>({}),computed:{...(0,st.rn)({selectedProduct:t=>t.product.selectedProduct})}};const Bs=(0,ce.Z)(Ls,[["render",Ts]]);var Os=Bs,zs={data:()=>({selectedOptions:[],calcPrice:0,priceRadio:0,arrProductsBasket:[],radioId1:null,radioId2:null,checkboxOptions:null,productData:{},boolRadio:!1}),components:{TheLoader:xs,"TheСalorieCounter":Os},methods:{...(0,st.OI)({switchProdModal:"product/switchProdModal"}),...(0,st.nv)({addToCart:"product/addToCart"}),setRadioOption(t){const e=t.target;if("createEvent"in document){var o=document.createEvent("HTMLEvents");o.initEvent("change",!1,!0),e.dispatchEvent(o)}else e.fireEvent("onchange")},outsideExit(){this.switchProdModal(),this.$router.go(-1)},async sendForProcessing(){const t={},e=this.selectedProduct.product,o=[];t.id=[`${e.id}`];const a=document.getElementById("coffee-detail"),s=new FormData(a),r=[];for(let n of s.entries())null!==n&&(this.radioId1=n[1],r.push(n[1]));for(let n of this.selectedOptions)null!==n&&(o.push(JSON.stringify(n.id)),r.push(JSON.stringify(n.id)));o.length>0&&(this.checkboxOptions=o.join()),this.radioId2&&r.push(this.radioId2),(this.radioId1||this.checkboxOptions||this.radioId2)&&(r.filter((t=>"string"===typeof t)),t.options=[...new Set(r)],t.options=t.options.filter((t=>""!==t))),t.price=[JSON.stringify(e.price)],this.addToCart(t),setTimeout((()=>{this.outsideExit()}),300)},calculatePrice(t){let e={id:t.id,price:t.price,name:t.name},o={price:e.price,symbol:"plus"},a={price:e.price,symbol:"minus"};0===this.selectedOptions.length?(this.selectedOptions.push(e),this.changeCalcPrice(o)):this.selectedOptions.find((t=>t.id===e.id))?(this.selectedOptions=this.selectedOptions.filter((t=>t.id!==e.id)),this.changeCalcPrice(a)):(this.selectedOptions.push(e),this.changeCalcPrice(o))},changeCalcPrice(t){"plus"===t.symbol?this.calcPrice+=t.price:"minus"===t.symbol&&(this.calcPrice-=t.price)},calcRadioPrice(t){this.productData={id:t.id,price:t.price,name:t.name},1!==t.parent_id&&(0===this.priceRadio?(this.calcPrice+=t.price,this.priceRadio=t.price):(this.calcPrice-=this.priceRadio,this.calcPrice+=t.price,this.priceRadio=t.price),this.radioId2=JSON.stringify(this.productData.id))},setPathUrl(){const t=window.location.pathname.split("/").length;if(2===t){let t=this.translitFood;this.$router.push({path:`${window.location.pathname}/${t}`})}}},computed:{...(0,st.rn)({selectedProduct:t=>t.product.selectedProduct,loader:t=>t.product.loader,content:t=>t.product.content,priceFood:t=>t.product.priceFood,translitFood:t=>t.product.translitFood})},watch:{loader(){this.calcPrice=this.priceFood,this.setPathUrl()}}};const js=(0,ce.Z)(zs,[["render",ps],["__scopeId","data-v-2922764c"]]);var Fs=js,qs={data(){return{stateContent:!0}},components:{ProductModal:Fs,TheLoader:xs},methods:{getProd(t){this.getProduct({params:{id:t}})},...(0,st.nv)({getProducts:"products/getProducts",getProduct:"product/getProduct"}),...(0,st.OI)({setIdProduct:"product/setId",switchProdModal:"product/switchProdModal"}),showProducts(){0===this.products.length?this.stateContent=!1:this.stateContent=!0}},computed:{...(0,st.rn)({idFood:t=>t.category.id,idStore:t=>t.stores.id,products:t=>t.products.products,prodModal:t=>t.product.prodModal,loader:t=>t.category.loader,productId:t=>t.products.productId,finishLoad:t=>t.products.finishLoad}),paramsForProducts(){return{params:{id:this.idFood,shop_id:this.idStore}}}},watch:{idFood(){this.getProducts(this.paramsForProducts)},idStore(){setTimeout((()=>{this.getProducts(this.paramsForProducts)}),100)},products(){setTimeout((()=>{this.showProducts()}),500)},finishLoad(){window.location.pathname.split("/")[2]&&(this.getProd(this.productId),this.switchProdModal())}}};const Ms=(0,ce.Z)(qs,[["render",ya],["__scopeId","data-v-3c244b3a"]]);var Ns=Ms,Rs={data(){return{}},components:{FoodCategories:la,CardProduct:Ns,TheLocation:ko},methods:{...(0,st.OI)({storeListStateChange:"stores/storeListStateChange"}),...(0,st.nv)({fetchCategoryFood:"category/fetchCategoryFood"})},computed:{...(0,st.rn)({prodModal:t=>t.product.prodModal})},mounted(){this.fetchCategoryFood()}};const Es=(0,ce.Z)(Rs,[["render",$o]]);var Hs=Es;const Ys={key:0,class:"pt-5"},Ks={key:1,class:"w-full flex items-center justify-center mt-10 text-2xl"},Gs=(0,r._)("h2",{class:""},"Активные акции отсутствуют",-1),Zs=[Gs];function Ws(t,e,o,a,s,n){const i=(0,r.up)("specials-item");return(0,r.wg)(),(0,r.iD)("div",null,[t.specials.length>0?((0,r.wg)(),(0,r.iD)("div",Ys,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.specials,(t=>((0,r.wg)(),(0,r.j4)(i,{key:t.key,special:t},null,8,["special"])))),128))])):((0,r.wg)(),(0,r.iD)("div",Ks,Zs))])}var Js=o.p+"img/IMG.9adc7db4.png";const Vs={key:0,class:"md:flex whitespace-normal border-b-2 border-[#5B5B5B] border-opacity-20 py-5"},Qs={class:"flex justify-center md:block min-w-fit max-w-[331px] max-h-[147px]"},Xs={class:"relative px-2"},$s=(0,r._)("img",{src:Js,alt:""},null,-1),tr={class:"absolute top-0 left-2 pl-3 pt-4 text-white font-medium"},er={class:"text-3xl"},or={class:"text-lg"},ar={class:"mx-3 mt-6 md:mt-0 md:ml-4 md:mx-0"},sr=["innerHTML"];function rr(t,e,o,a,s,n){return!1!==o.special?((0,r.wg)(),(0,r.iD)("div",Vs,[(0,r._)("div",Qs,[(0,r._)("div",Xs,[$s,(0,r._)("div",tr,[(0,r._)("h1",er,(0,c.zw)(o.special.title),1),(0,r._)("span",or,(0,c.zw)(o.special.subtitle),1)])])]),(0,r._)("div",ar,[(0,r._)("p",{class:"text-lg font-medium",innerHTML:o.special.content},null,8,sr)])])):(0,r.kq)("",!0)}var nr={props:["special"]};const ir=(0,ce.Z)(nr,[["render",rr]]);var cr=ir,lr={components:{SpecialsItem:cr},methods:{...(0,st.nv)({getSpecials:"specials/getSpecials"})},computed:{...(0,st.rn)({specials:t=>t.specials.specials})},async mounted(){await this.getSpecials()}};const dr=(0,ce.Z)(lr,[["render",Ws]]);var ur=dr;const pr=t=>((0,r.dD)("data-v-777e56e8"),t=t(),(0,r.Cn)(),t),gr={class:"flex justify-center py-6"},mr={class:"w-full md:max-w-[1000px] border-2 border-[#ffd4a3] rounded-xl"},hr=pr((()=>(0,r._)("div",{class:"hidden bg-[#ffd09a] h-16 md:flex items-center rounded-t-lg"},[(0,r._)("h1",{class:"text-2xl font-semibold text-white pl-2"},"Оставить отзыв")],-1))),fr=pr((()=>(0,r._)("p",{class:"mb-2"}," Оцените, пожалуйста, наш сервис и качество продуктов. Напишите сюда замечания, пожелания, так же мы будем рады предложениям. ",-1))),wr=pr((()=>(0,r._)("p",null,"Можете упоминать сотрудников, их имена есть на бэйджах.",-1))),br={class:"flex justify-center mt-8"},xr=pr((()=>(0,r._)("input",{type:"hidden",id:"review-rating-input",name:"rating"},null,-1))),yr=pr((()=>(0,r._)("div",{class:"flex justify-center mt-6"},[(0,r._)("textarea",{name:"message",id:"message",required:"",placeholder:"Текст отзыва*",class:"resize-none bg-gray-100 outline-none w-[500px] h-36 p-2 rounded-lg"})],-1))),vr=pr((()=>(0,r._)("p",{class:"text-center"},[(0,r._)("small",null,"Отзыв будет отправлен анонимно руководству.")],-1))),kr=pr((()=>(0,r._)("div",{class:"flex justify-center"},[(0,r._)("button",{type:"submit",expand:"block",class:"whitespace-nowrap px-28 md:px-36 py-3 shadow-[0_4px_4px_rgba(0,0,0,0.05)] bg-[#edc69a] text-white rounded-xl cursor-pointer hover:bg-[#d5b28b]"}," Отправить ")],-1))),_r={class:"absolute bottom-[10%] whitespace-nowrap text-white"};function Cr(t,e,o,a,n,i){const l=(0,r.up)("star-rating"),d=(0,r.up)("pop-up");return(0,r.wg)(),(0,r.iD)("div",gr,[(0,r._)("section",mr,[hr,(0,r._)("form",{onSubmit:e[0]||(e[0]=(...t)=>i.placeholder&&i.placeholder(...t)),class:"p-3"},[fr,wr,(0,r._)("div",br,[(0,r.Wm)(l,{"onUpdate:rating":i.setRating,"show-rating":!1,"star-size":30,padding:22},null,8,["onUpdate:rating"]),xr]),yr,vr,kr],32)]),(0,r._)("div",_r,[(0,r.Wm)(s.uT,{name:"popUp"},{default:(0,r.w5)((()=>[t.popUpState?((0,r.wg)(),(0,r.j4)(d,{key:0},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)(t.textPopUp),1)])),_:1})):(0,r.kq)("",!0)])),_:1})])])}var Sr=o(89056),Ar=o.n(Sr),Pr={data:()=>({textPopUp:""}),components:{StarRating:Ar(),PopUp:he},methods:{...(0,st.nv)({sendReview:"account/sendReview"}),...(0,st.OI)({PopUp:"account/changePopUp"}),changePopUp(t){this.PopUp(),this.textPopUp=t,setTimeout((()=>{this.PopUp(),this.textPopUp=""}),1500)},async placeholder(t){t.preventDefault();const e=new FormData(t.target);let o={};const a=document.getElementById("message");if(a.value.trim().length>0){a.value="";for(let a of e.keys())o[a]=e.get(a);const t=await this.sendReview(o);if(t){for(let t of e.keys())e.set(t,"");this.changePopUp("Ваш отзыв отправлен. Спасибо!")}else this.changePopUp("Непредвиденная ошибка, повторите попытку позже")}},setRating(t){const e=document.getElementById("review-rating-input");e.value=t}},computed:{...(0,st.rn)({popUpState:t=>t.account.popUpState})}};const Dr=(0,ce.Z)(Pr,[["render",Cr],["__scopeId","data-v-777e56e8"]]);var Ur=Dr;const Ir={class:"rounded-lg p-3 border border-black my-2 mx-1 whitespace-normal"},Tr={class:"flex justify-between mb-2"},Lr={key:0,class:"mb-2"},Br={class:"flex justify-between"},Or={key:0},zr={key:1},jr={key:0},Fr=(0,r._)("b",null,"Добавки:",-1),qr={class:"flex justify-between"},Mr=(0,r._)("span",null,"Статус заказа",-1),Nr={class:"flex justify-between mb-2 text-[#61473B] font-semibold text-lg"},Rr=(0,r._)("span",null,"Итого",-1),Er={key:0,class:"flex justify-between"},Hr=(0,r._)("span",null,"Оплачено бонусами",-1),Yr={key:1,class:""};function Kr(t,e,o,a,s,n){return(0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.orders,(t=>((0,r.wg)(),(0,r.iD)("div",{key:t.id,class:"leading-5"},[(0,r._)("section",Ir,[(0,r._)("div",Tr,[(0,r._)("span",null,"№"+(0,c.zw)(t.id),1),(0,r._)("span",null,(0,c.zw)(t.time)+" "+(0,c.zw)(t.date),1)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.items,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[!1!==e?((0,r.wg)(),(0,r.iD)("div",Lr,[(0,r._)("div",Br,[e.name_product?((0,r.wg)(),(0,r.iD)("b",Or,(0,c.zw)(e.name_product),1)):(0,r.kq)("",!0),e.price_product?((0,r.wg)(),(0,r.iD)("span",zr,[e.amount>1?((0,r.wg)(),(0,r.iD)("small",jr,(0,c.zw)(e.amount)+"x",1)):(0,r.kq)("",!0),(0,r.Uk)(" "+(0,c.zw)(e.price_product)+" руб.",1)])):(0,r.kq)("",!0)])])):(0,r.kq)("",!0),e.modifiers?((0,r.wg)(),(0,r.iD)("div",{key:1,class:(0,c.C_)(["flex flex-col",1===t.items.length?"mb-2":"mb-6"])},[Fr,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.modifiers,(t=>((0,r.wg)(),(0,r.iD)("span",{key:t.id},(0,c.zw)(t.name_options),1)))),128))],2)):(0,r.kq)("",!0)])))),128)),(0,r._)("div",qr,[Mr,(0,r._)("span",null,(0,c.zw)(t.status_order),1)]),(0,r._)("div",Nr,[Rr,(0,r._)("span",null,(0,c.zw)(t.total_sum)+" руб.",1)]),t.bonuses>0?((0,r.wg)(),(0,r.iD)("div",Er,[Hr,(0,r._)("span",null,(0,c.zw)(t.bonuses)+" руб.",1)])):(0,r.kq)("",!0),t.store&&t.store.store_name?((0,r.wg)(),(0,r.iD)("div",Yr,(0,c.zw)(t.store.store_name),1)):(0,r.kq)("",!0)])])))),128)}var Gr={data:()=>({user:{}}),methods:{...(0,st.nv)({getOrderHistory:"history/getOrderHistory"})},computed:{...(0,st.rn)({orders:t=>t.history.orders})},mounted(){this.user=Vt.getStorage("userData"),this.getOrderHistory(this.user.phone)}};const Zr=(0,ce.Z)(Gr,[["render",Kr]]);var Wr=Zr;const Jr={class:"flex justify-center py-6"},Vr={class:"w-full md:max-w-[1000px] border-2 border-[#ffd4a3] rounded-xl"},Qr=(0,r._)("div",{class:"hidden bg-[#ffd09a] h-16 md:flex items-center rounded-t-lg"},[(0,r._)("h1",{class:"text-2xl font-semibold text-white pl-2"},"Сообщить о технической проблеме")],-1),Xr=(0,r._)("p",{class:"mb-2"}," Если вы нашли техническую проблему, сообщите нам подробности и мы примем меры. Спасибо! ",-1),$r=(0,r._)("div",{class:"flex justify-center my-6"},[(0,r._)("textarea",{name:"message",id:"message",required:"",placeholder:"Описание проблемы*",class:"resize-none bg-gray-100 outline-[#ffd4a3] w-[500px] h-36 p-2 rounded-lg"})],-1),tn=(0,r._)("div",{class:"flex justify-center"},[(0,r._)("button",{type:"submit",expand:"block",class:"whitespace-nowrap px-28 md:px-36 py-3 shadow-[0_4px_4px_rgba(0,0,0,0.05)] bg-[#edc69a] text-white rounded-xl cursor-pointer hover:bg-[#d5b28b]"}," Отправить ")],-1),en=[Xr,$r,tn],on={class:"absolute bottom-[10%] whitespace-nowrap text-white"};function an(t,e,o,a,n,i){const l=(0,r.up)("pop-up");return(0,r.wg)(),(0,r.iD)("div",Jr,[(0,r._)("section",Vr,[Qr,(0,r._)("form",{onSubmit:e[0]||(e[0]=(...t)=>i.submitForm&&i.submitForm(...t)),class:"p-3"},en,32)]),(0,r._)("div",on,[(0,r.Wm)(s.uT,{name:"popUp"},{default:(0,r.w5)((()=>[t.popUpState?((0,r.wg)(),(0,r.j4)(l,{key:0},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)(t.textPopUp),1)])),_:1})):(0,r.kq)("",!0)])),_:1})])])}var sn={data:()=>({textPopUp:""}),components:{PopUp:he},methods:{...(0,st.nv)({sendFeedback:"tracking/sendFeedback"}),...(0,st.OI)({PopUp:"account/changePopUp"}),changePopUp(t){this.PopUp(),this.textPopUp=t,setTimeout((()=>{this.PopUp(),this.textPopUp=""}),1500)},async submitForm(t){t.preventDefault();const e=document.getElementById("message");if(e.value.trim().length>0){const t=await this.sendFeedback({message:e.value});t?(e.value="",this.changePopUp("Ваше сообщение отправлено. Спасибо!")):this.changePopUp("Непредвиденная ошибка, повторите попытку позже")}}},computed:{...(0,st.rn)({popUpState:t=>t.account.popUpState})}};const rn=(0,ce.Z)(sn,[["render",an]]);var nn=rn;const cn=[{path:"/:category?/:as?",component:Hs},{path:"/promotions",component:ur},{path:"/review",component:Ur},{path:"/stories",component:Wr},{path:"/support",component:nn}],ln=(0,Qo.p7)({routes:cn,history:(0,Qo.PO)()});var dn=ln,un=o(44161);let pn=un.Z.create({baseURL:"https://tk.uat.sibcode.team/api/",timeout:1e4,validateStatus:function(t){return t<500}});var gn=pn,mn={auth(t){return gn.get("auth",t)},login(t){return gn.get("login",t)},requestConfirmationCode(t){return gn.get("sms",t)},sendConfirmationCode(t){return gn.get("sms/check",t)},getCategories(){return gn.get("catalog/getCategories")},getProducts(t){return gn.get("catalog/getProducts",t)},getProduct(t){return gn.get("catalog/getProduct",t)},getStores(){return gn.get("catalog/getStores")},getOrderHistory(t){return gn.get("order/history/"+t)},sendOrder(t){return gn.post("order/get",t)},getBonuses(t){return gn.get("customer/getBonuses",t)},getSpecials(){return gn.get("special/get")},getInfoPage(t){return gn.get("info/page/"+t)},sendReview(t){return gn.post("review/send",t)},sendFeedback(t){return gn.post("feedback/send",t)}};const hn={state:()=>({store:"",stores:"",storesState:!1,id:""}),getters:{},mutations:{setStore(t,e){t.store=e},setStores(t,e){t.stores=e},storeListStateChange(t){t.storesState?t.storesState=!1:t.storesState=!0,t.storesState?document.body.style.overflow="hidden":document.body.style.overflow="visible"},setId(t,e){t.id=e},setStoreLS(t,e){t.store=e.store_name},setIdLS(t,e){t.id=e.id}},actions:{async fetchStores({commit:t}){try{const{data:e}=await mn.getStores();t("setStores",e.stores),localStorage.getItem("shop")?(t("setStoreLS",JSON.parse(localStorage.getItem("shop"))),t("setIdLS",JSON.parse(localStorage.getItem("shop")))):localStorage.setItem("shop",JSON.stringify(e.stores[0]))}catch(e){console.log(e)}}},namespaced:!0},fn=new(ra()),wn={state:()=>({categoryFood:"",translitList:{},id:null,startingPath:"",loader:!1}),mutations:{setStartingPath(t,e){t.startingPath=e},setCategoryFood(t,e){t.categoryFood=e;let o=1;e.forEach((e=>{let a=fn.transform(e.name,"-").toLowerCase();1===o&&(t.startingPath=a,o=0),t.translitList[a]=e.name}))},bunchContentWithUrl(t){const e=window.location.pathname.split("/")[1];if(t.translitList[e]){const o=t.translitList[e],a=t.categoryFood.find((t=>t.name===o));t.id=a.id}},selectCategory(t,e){t.id=e.id},setIdLS(t,e){t.id=e},switchStateLoader(t,e){t.loader=e}},actions:{async fetchCategoryFood({commit:t}){t("switchStateLoader",!0);try{const{data:e}=await mn.getCategories();t("setCategoryFood",e.categories),JSON.parse(localStorage.getItem("selectedCategory"))?t("selectCategory",JSON.parse(localStorage.getItem("selectedCategory"))):t("selectCategory",e.defaultCategory),t("bunchContentWithUrl"),t("switchStateLoader",!1)}catch(e){alert(e)}}},namespaced:!0},bn={state:()=>({isAuthorized:!1,regModal:!1,numConState:!1,popUpState:!1,popUpStateLog:!1,deleteState:!1,userData:{},paramsLog:{},name:"",phone:""}),mutations:{setParamsLog(t,e){t.paramsLog=e},storageAccount(t,e){t.isAuthorized=!!e,t.name=e.name,t.phone=e.phone},exitAccount(t){window.localStorage.removeItem("isAuthorized"),window.localStorage.removeItem("userData"),t.isAuthorized=!1},changeDeleteState(t){t.deleteState?t.deleteState=!1:t.deleteState=!0,t.deleteState?document.body.style.overflow="hidden":document.body.style.overflow="visible"},changePopUp(t,e){"log"!==e?t.popUpState?t.popUpState=!1:t.popUpState=!0:t.popUpStateLog?t.popUpStateLog=!1:t.popUpStateLog=!0},changeAccountStatus(t){t.regModal?t.regModal=!1:t.regModal=!0,t.regModal?document.body.style.overflow="hidden":document.body.style.overflow="visible"},changeNumConState(t){t.numConState?t.numConState=!1:t.numConState=!0},saveUser(t,e){t.userData=e,t.name=t.userData.name,t.phone=t.userData.phone},authorize(t){t.isAuthorized=!0,Vt.setStorage("isAuthorized",t.isAuthorized)}},actions:{async requestConfirmationCode({state:t},e){try{const{data:t}=await mn.requestConfirmationCode(e);return t}catch(o){console.log(o,t.err)}return!1},async sendConfirmationCode({state:t},e){try{const{data:t}=await mn.sendConfirmationCode(e);return t}catch(o){console.log(o),console.log(t.err)}return!1},async login({commit:t},e){try{const{data:o}=await mn.login(e);if("error"!==o.status){const a={name:e.params.name,phone:e.params.phone,api_token:o.token};return t("saveUser",a),Vt.setStorage("userData",a),t("authorize"),o}}catch(o){console.log(o)}return!1},async sendReview({state:t},e){try{const{data:t}=await mn.sendReview(e);if("error"!==t.status)return t}catch(o){console.log(o),console.log(t.test)}return!1}},namespaced:!0},xn=new(ra()),yn={state:()=>({products:{},translitList:{},productId:Number,finishLoad:!1}),mutations:{updateProducts(t,e){t.products=e,e.forEach((e=>{let o=xn.transform(e.product_name.trimEnd(),"-").toLowerCase();t.translitList[o]=e.product_name.trimEnd()}))},loading(t){t.finishLoad=!0},bunchContentWithUrl(t){if(window.location.pathname.split("/")[2]){const e=window.location.pathname.split("/")[2];if(t.translitList[e]){const o=t.translitList[e],a=t.products.find((t=>t.product_name.trimEnd()==o.trimEnd()));t.productId=a.id}}}},actions:{async getProducts({commit:t},e){try{const{data:o}=await mn.getProducts(e);return t("updateProducts",o.products),t("bunchContentWithUrl"),t("loading"),!0}catch(o){console.log(o)}return!1}},namespaced:!0};var vn=o(81486);const kn={state:()=>({basketState:!1,forRegState:!1,pathLink:"",backArrow:!1,termsOfUseData:""}),mutations:{switchBasket(t){t.basketState?t.basketState=!1:t.basketState=!0},switchBurger(t){if(t.burgerState)return t.burgerState=!1;t.burgerState?t.burgerState=!1:t.burgerState=!0},setPathLink(t,e){t.pathLink=e},switchForReg(t){t.forRegState?t.forRegState=!1:t.forRegState=!0},setBackArrow(t){(0,vn.setTimeout)((()=>{t.backArrow?t.backArrow=!1:t.backArrow=!0}),400)}},actions:{async getInfoPage({state:t},e){try{const{data:o}=await mn.getInfoPage(e);"error"!==o.status&&(t.termsOfUseData=o)}catch(o){console.log(o)}return!1},async sendFeedback({commit:t},e){try{const{data:t}=await mn.sendFeedback(e);if("error"!==t.status)return t}catch(o){console.log(o)}return!1}},namespaced:!0},_n=new(ra()),Cn={state:()=>({id:null,selectedProduct:null,translitFood:"",prodModal:!1,loader:!0,content:!1,priceFood:0,cart:[],lineIdCount:0,cartTotal:0,cartCount:0}),mutations:{setId(t,e){t.id=e},cartCount(t){let e=0;t.cart.forEach((t=>{e+=t.amount})),t.cartCount=e>0&&e},switchStateLoad(t){t.loader?t.loader=!1:t.loader=!0,t.content?t.content=!1:t.content=!0,t.content&&Vt.getStorage("cartProduct")&&Vt.getStorage("lineIdCount")&&(t.cart=Vt.getStorage("cartProduct"),t.lineIdCount=Vt.getStorage("lineIdCount"),t.cartTotal=Vt.getStorage("cartTotal"))},setSelectedProduct(t,e){t.selectedProduct=e,t.priceFood=e.product.price,t.translitFood=_n.transform(e.product.product_name.trimEnd(),"-").toLowerCase()},switchProdModal(t){t.prodModal?t.prodModal=!1:t.prodModal=!0,t.prodModal?document.body.style.overflow="hidden":document.body.style.overflow="visible",!1===t.prodModal&&(t.loader=!0,t.content=!1)},addToCartState(t,e){t.cart.push(e),Vt.setStorage("cartProduct",t.cart),t.lineIdCount=e.line_id,Vt.setStorage("lineIdCount",t.lineIdCount)},calculateCartTotal(t){let e=0;const o=t.cart;o.forEach((t=>{e+=t.price*t.amount})),t.cartTotal=e,Vt.setStorage("cartTotal",t.cartTotal)},changeAmount(t,e){const o=e.line_id,a=e.action,s=t.cart.find((t=>t.line_id===o));switch(a){case"increase":s.amount++,Vt.setStorage("cartProduct",t.cart);break;case"decrease":s.amount>1&&s.amount--,Vt.setStorage("cartProduct",t.cart);break;default:break}},removeCartItem(t,e){const o=e.line_id;t.cart=t.cart.filter((t=>t.line_id!==o)),0===t.cart.length&&(t.lineIdCount=0),Vt.setStorage("cartProduct",t.cart)},setCart(t,e){t.cart=e},setLineIdCount(t,e){t.lineIdCount=e},setCartTotal(t,e){t.cartTotal=e}},actions:{async getProduct({commit:t},e){try{const{data:o}=await mn.getProduct(e);return t("setSelectedProduct",o),t("switchStateLoad"),!0}catch(o){console.log(o)}return!1},addToCart({commit:t,state:e},o){const a=e.selectedProduct.product,s=e.cart,r=e.lineIdCount+1;let n={};n.line_id=r,n.type="Product",n.productId=a.guid,n.name=a.product_name,n.price=parseFloat(o.price),n.amount=1,n.image=a.image,void 0!==o.options&&o.options.length>0&&(n.modifiers=[],o.options.forEach((t=>{const e=a.options.find((e=>e.values.some((e=>e.id==t)))),o=e.values.find((e=>e.id==t)),s={productId:o.guid,name:o.name,amount:1,productGroupId:e.guid};n.modifiers.push(s),o.price>0&&(n.price+=parseFloat(o.price))})));const i=s.find((t=>t.productId===n.productId&&JSON.stringify(t.modifiers)===JSON.stringify(n.modifiers)));"undefined"!==typeof i?t("changeAmount",{line_id:i.line_id,action:"increase"}):t("addToCartState",n),t("calculateCartTotal"),t("cartCount")}},namespaced:!0},Sn={state:()=>({checkoutState:!1,bonus:""}),mutations:{setBonuses(t,e){t.bonus=e},changeCheckout(t){t.checkoutState?t.checkoutState=!1:t.checkoutState=!0,t.checkoutState?document.body.style.overflow="hidden":document.body.style.overflow="visible"}},actions:{async getBonuses({commit:t},e){const{data:o}=await mn.getBonuses({params:{phone:e}});void 0!==o.walletBalances?t("setBonuses",o.walletBalances[0].balance):t("setBonuses",0)},async sendOrder({commit:t},e){try{const{data:o}=await mn.sendOrder(e);if("error"!==o.status)return t("dropCart"),window.localStorage.removeItem("cartProduct"),o}catch(o){console.log(o)}return!1}},namespaced:!0},An={state:()=>({orders:[]}),mutations:{setOrderHistory(t,e){t.orders=e}},actions:{async getOrderHistory({commit:t},e){try{const{data:o}=await mn.getOrderHistory(e);return t("setOrderHistory",o.orders_list),!0}catch(o){console.log(o)}return!1}},namespaced:!0},Pn={state:()=>({specials:[]}),mutations:{updateSpecials(t,e){t.specials=e}},actions:{async getSpecials({commit:t}){try{const{data:e}=await mn.getSpecials();return t("updateSpecials",e.special_list),!0}catch(e){console.log(e)}return!1}},namespaced:!0};var Dn=(0,st.MT)({modules:{stores:hn,category:wn,account:bn,tracking:kn,products:yn,product:Cn,checkout:Sn,history:An,specials:Pn}}),Un=o(23051),In=o.n(Un),Tn=o(42904),Ln=o(47795);const Bn=(0,s.ri)(Vo);Bn.use(dn).use(Dn).use(In()).use(Ln.Z).directive("mask",Tn.e9).use(a["default"]).mount("#app")}},e={};function o(a){var s=e[a];if(void 0!==s)return s.exports;var r=e[a]={exports:{}};return t[a].call(r.exports,r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(e,a,s,r){if(!a){var n=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],r=t[d][2];for(var i=!0,c=0;c<a.length;c++)(!1&r||n>=r)&&Object.keys(o.O).every((function(t){return o.O[t](a[c])}))?a.splice(c--,1):(i=!1,r<n&&(n=r));if(i){t.splice(d--,1);var l=s();void 0!==l&&(e=l)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[a,s,r]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/territory_koffee/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,r,n=a[0],i=a[1],c=a[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(c)var d=c(o)}for(e&&e(a);l<n.length;l++)r=n[l],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(d)},a=self["webpackChunkterritory_coffee"]=self["webpackChunkterritory_coffee"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(84295)}));a=o.O(a)})();
//# sourceMappingURL=app.a5ba07c0.js.map